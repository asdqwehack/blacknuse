<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlackNuse - 블랙리스트 관리</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="styles/common.css">
    <link rel="stylesheet" href="styles/blacklist.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>
</head>
<body>
    <div class="container">
        <div class="nav-buttons">
            <a href="index.html" class="nav-btn">
                <i class='bx bx-home'></i> 홈
            </a>
            <a href="dashboard.html" class="nav-btn">
                <i class='bx bx-dashboard'></i> 대시보드
            </a>
            <a href="admin.html" class="nav-btn">
                <i class='bx bx-crown'></i> 어드민 패널
            </a>
            <a href="user-management.html" class="nav-btn">
                <i class='bx bx-user'></i> 사용자 관리
            </a>
        </div>

        <div class="header">
            <h1>
                <i class='bx bx-block'></i>
                블랙리스트 관리
            </h1>
        </div>

        <div id="security-check" class="security-warning" style="display: none;">
            ⚠️ VPN 또는 프록시 사용이 감지되었습니다. 접근이 제한됩니다.
        </div>
        
        <div class="blacklist-controls">
            <input type="text" class="blacklist-input" id="blacklist-ip-input" placeholder="IP 주소를 입력하세요 (예: 192.168.1.1)">
            <button class="button button-red" onclick="blacklistManager.addIPToBlacklistWithReason()">
                <i class='bx bx-block'></i>
                IP 차단
            </button>
        </div>
        
        <div class="users-table">
            <div class="table-header">
                <i class='bx bx-block'></i>
                블랙리스트 목록
            </div>
            <div class="table-content" id="blacklist-list">
                <!-- 블랙리스트 목록이 여기에 동적으로 추가됩니다 -->
            </div>
        </div>
    </div>

    <script src="js/firebase-config.js"></script>
    <script src="js/security.js"></script>
    <script src="js/blacklist.js"></script>
    <script>
        let securityManager;
        let blacklistManager;

        async function init() {
            securityManager = new SecurityManager();
            await FirebaseDataManager.initializeDefaultData();
            blacklistManager = new BlacklistManager();
        }

        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
